@model EstacionamentoMvc.Models.MovimentoEstacionamento
@using Microsoft.AspNetCore.Http

@{
    ViewData["Title"] = "Editar Registro";
    var isAdmin = Context.Session.GetString("AdminLogado") == "true";
}

<h2>Editar Registro</h2>

<form asp-action="Editar" method="post">
    <input type="hidden" name="id" value="@Model.Id" />

    <div class="form-group">
        <label>Placa</label>
        <input type="text" name="placa" class="form-control" value="@Model.Placa" @(isAdmin && Model.DataSaida == null ? "" : "readonly") />
    </div>

    <div class="form-group">
        <label>Modelo</label>
        <input type="text" name="modelo" class="form-control" value="@Model.Modelo" @(isAdmin && Model.DataSaida == null ? "" : "readonly") />
    </div>

    <button type="submit" class="btn btn-primary" @(isAdmin && Model.DataSaida == null ? "" : "disabled")>Salvar</button>
    <a asp-action="Index" class="btn btn-secondary">Cancelar</a>

    @if (!isAdmin)
    {
        <div class="alert alert-info mt-3">
            ðŸ”’ Apenas administradores podem alterar Placa e Modelo.
        </div>
    }
</form>
